---
import Svg from "@jasikpark/astro-svg-loader";

const icons = {
  email: import("../icons/email.svg?raw"),
  github: import("../icons/github.svg?raw"),
  linkedin: import("../icons/linkedin.svg?raw"),
  mastodon: import("../icons/mastodon.svg?raw"),
  threads: import("../icons/threads.svg?raw"),
  x: import("../icons/x.svg?raw"),
  youtube: import("../icons/youtube.svg?raw"),
  techsquidtv: import("../icons/techsquidtv.svg?raw"),
  instagram: import("../icons/instagram.svg?raw"),
  twitch: import("../icons/twitch.svg?raw"),
  discord: import("../icons/discord.svg?raw"),
  key: import("../icons/key.svg?raw"),
  fingerprint: import("../icons/fingerprint.svg?raw"),
  verified: import("../icons/verified.svg?raw"),
  keybase: import("../icons/keybase.svg?raw"),
  close: import("../icons/close.svg?raw"),
  menu: import("../icons/menu.svg?raw"),
  playCircle: import("../icons/play-circle-rounded.svg?raw"),
  rss: import("../icons/rss.svg?raw"),
}

export type IconName = keyof typeof icons

interface Props {
  name: IconName
  size?: number
}

const {name, size = 5} = Astro.props as Props

const getIcon = (name: IconName) => {
  const icon = icons[name];
  if (!icon) {
    throw new Error(`Could not find SVG for icon ${name}`);
  }
  return icon;
};

---
<Svg src={getIcon(name)} aria-label={name} class={`h-${size} w-${size}`} />
