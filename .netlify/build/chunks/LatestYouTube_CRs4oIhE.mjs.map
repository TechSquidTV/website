{"version":3,"file":"LatestYouTube_CRs4oIhE.mjs","sources":["../../../src/components/Headless/LatestYouTube.astro"],"sourcesContent":["---\nimport { Image } from \"astro:assets\";\nimport { Icon } from 'astro-icon/components';\nimport { XMLParser } from \"fast-xml-parser\";\n\ntype Author = {\n  name: string;\n  uri: string;\n};\n\ntype YouTubeRSSFeed = {\n  link: string[];\n  id: string; // yt:channel:{id}\n  \"yt:channelId\": string;\n  title: string;\n  author: Author;\n  entry: YouTubeRSSEntry[];\n};\n\ntype YouTubeRSSEntry = {\n  id: string; // yt:video:{id}\n  \"yt:videoId\": string;\n  \"yt:channelId\": string;\n  title: string;\n  link: string;\n  published: string;\n  updated: string;\n  author: Author;\n  \"media:group\": YouTubeRSSMediaGroup;\n};\n\ntype YouTubeRSSMediaGroup = {\n  \"media:title\": string;\n  \"media:description\": string;\n  \"media:content\": {\n    \"@_url\": string;\n    \"@_type\": string;\n    \"@_width\": string;\n    \"@_height\": string;\n  };\n  \"media:thumbnail\": {\n    \"@_url\": string;\n    \"@_width\": string;\n    \"@_height\": string;\n  };\n};\n\ntype YouTubeRSS = {\n  feed: YouTubeRSSFeed;\n};\n\ntype Props = {\n  channelID: string;\n};\n\nconst { channelID } = Astro.props;\nconst youtubeRSS = `https://www.youtube.com/feeds/videos.xml?channel_id=${channelID}`;\nconst rssData = await fetch(youtubeRSS).then((res) => res.text());\n\nconst options = {\n  ignoreAttributes: false,\n  attributeNamePrefix: \"@_\",\n};\nconst parser = new XMLParser(options);\n\nconst rss = parser.parse(rssData) as YouTubeRSS;\nconst video = rss.feed.entry[0];\n---\n\n<div class=\"flex flex-col w-full h-full\">\n  <a href={video[\"media:group\"][\"media:content\"][\"@_url\"]} target=\"_blank\" class=\"flex-1 relative\">\n    <div class=\"absolute top-1/2 right-1/2 transform translate-x-1/2 -translate-y-1/2 m-2\">\n      <Icon name=\"playCircle\" size={24} />\n    </div>\n      <Image\n        class=\"rounded-lg object-cover object-center w-full h-full sm:h-48 md:h-52 xl:h-64 shadow-xl\"\n        src={video[\"media:group\"][\"media:thumbnail\"][\"@_url\"]}\n        alt={video[\"media:group\"][\"media:title\"]}\n        width={parseInt(video[\"media:group\"][\"media:content\"][\"@_width\"])}\n        height={parseInt(video[\"media:group\"][\"media:content\"][\"@_height\"])}\n      />\n  </a>\n    <div class=\"flex flex-1 flex-col justify-between py-2 mx-8\">\n      <h2 class=\"text-4xl font-bold text-smoke-50 mb-2 break-words\">\n        {video[\"media:group\"][\"media:title\"]}\n      </h2>\n      <div class=\"my-1 text-sm\">\n        <a class=\"rounded-full inline-flex flex-row items-center px-2 ring-1 ring-smoke-800 text-smoke-300\" target=\"_blank\" href={video[\"media:group\"][\"media:content\"][\"@_url\"]}>watch</a>\n      </div>\n    </div>\n</div>\n"],"names":["$$createAstro","$$createComponent","Astro","$$render","$$maybeRenderHead","$$addAttribute","$$renderComponent","Icon","Image"],"mappings":"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"}